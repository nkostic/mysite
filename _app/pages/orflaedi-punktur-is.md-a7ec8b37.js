import{S as e,i as n,s as a,A as t,j as s,m as o,o as i,p as r,v as c,r as p,w as l,q as h,e as d,k as u,t as m,c as f,a as g,d as k,n as y,g as w,b,f as v,F as I,H as S}from"../chunks/vendor-3362a906.js";import{B as P}from"../chunks/blog-post-4e36f3c9.js";function E(e){let n,a,t,s,o,i,r,c,p,l,h,P,E,x,T,j,A,C,F,N,O,q,D,z,M,R,B,H,L,$,J,_,U,W,X,G,V,Y,Z,K,Q,ee,ne,ae,te,se,oe,ie,re,ce,pe,le,he,de,ue,me,fe,ge,ke,ye,we,be,ve,Ie,Se,Pe,Ee,xe,Te,je,Ae,Ce,Fe,Ne,Oe,qe,De,ze,Me,Re,Be,He,Le,$e,Je,_e,Ue,We,Xe,Ge,Ve,Ye,Ze,Ke,Qe,en,nn,an,tn,sn,on,rn,cn,pn,ln,hn,dn,un,mn,fn,gn,kn,yn,wn,bn,vn,In,Sn,Pn,En,xn,Tn,jn,An,Cn,Fn,Nn,On,qn,Dn,zn,Mn,Rn,Bn,Hn,Ln,$n,Jn,_n,Un,Wn,Xn,Gn,Vn,Yn,Zn,Kn,Qn,ea,na,aa,ta,sa,oa,ia,ra,ca,pa;return{c(){n=d("p"),a=d("img"),s=u(),o=d("p"),i=m("I recently launched a side project – basically a buyer’s guide for e-bikes in Iceland. It’s been a\nfew years since I worked on a substantial coding project and it has been a surprising amount of fun."),r=u(),c=d("p"),p=m("Link: "),l=d("a"),h=m("www.örflæði.is"),P=u(),E=d("p"),x=m("Late last year I actually worked on something that I never got around to publishing. At home we had\na baby in November and there were some quiet moments in the first few weeks where I could learn\nSwiftUI, the new iOS framework for declarative UI. I created a simple Python backend and iOS app\nthat scrapes air particulate data from the environmental agency in Iceland and presents a\ngeo-coordinate proximity sorted list of stations to the user. I had never done anything in either\nObjectiveC or Swift so it was quite a learning curve. Apple rejected the app because it replicates\nwebsite functionality. I argued that there was actually some useful sorting based on device location\nbut the appeal was rejected too."),T=u(),j=d("p"),A=m("On the e-bike project I am hosting a mobile-first web solution so there is no application to reject."),C=u(),F=d("h2"),N=d("a"),O=d("span"),q=m("Motivation"),D=u(),z=d("p"),M=m("I’m a big believer in human sized vehicles in the urban setting. I believe e-bikes will dominate\nbike sales and is a potential disruptor of car centricity in urban planning and lifestyles. I have\nbeen an advocate for e-bikes in Iceland, have monitored import numbers, written articles, been\ninterviewed by newspapers, maintained a newsletter about micromobility with ~1,000 readers,\nparticipated in panels on planning, spoken with ministers, consulted retailers and helped the\nministry of finance structure a VAT rebate for e-bikes and micromobility vehicles. I’ve also taken\nsome crap from bike advocates that dislike motors and car maniacs who feel threatened. All part of\nthe fun of doing unpaid advocacy work."),R=u(),B=d("p"),H=m("In my opinion incumbent bike retailers have not embraced electric motors and been mostly reactive to\nincreasing consumer demand. The growth in bikes is mostly due to motorization broadening the appeal\nto new consumer segments. This is a an opportunity for retailers and new entrants appealing to new\nsegments. People who love racers and Rapha hats are not good at appealing to family people looking\nfor commuting solutions."),L=u(),$=d("p"),J=m("The space is highly competitive and there are few companies in the supply chain that have captured\ntruly defensible businesses — except for Bosch who have built a resilient brand for high-torque\nmotors and nicely designed displays. Future brands may capture more intelligence at fleet levels but\nthat is conjecture. For now, profits are slim but volume is increasing and consumers are benefiting."),_=u(),U=d("p"),W=m("We have all the ingredients for a high growth market with a very high ceiling on ownership rates.\nVehicles are person sized and therefore a highly personal preference. Most consumers will decide\nbased on emotional factors and don’t have the interest to discern specs. Frame design, ride comfort\nand cycling lane access are winning attributes."),X=u(),G=d("p"),V=m("All of this calls for research tools to navigate a broad range of options and none currently exist."),Y=u(),Z=d("h2"),K=d("a"),Q=d("span"),ee=m("Design"),ne=u(),ae=d("p"),te=m("I am not a designer. I browse dribbble.com and combine ideas that are easy to implement in CSS. I\ndid not design anything in Sketch. I shift to „CSS mode“ when my flexibly scoped coding resulted in\nthings that looked just too ugly to keep looking at — using Tailwind CSS so I could stay in HTML\nmode as much as possible. The way "),se=d("a"),oe=m("Tailwind"),ie=m(" works is that you get\nthousands of modular styles for common patterns and apply those directly to elements instead of\nwriting styles in CSS."),re=u(),ce=d("pre"),pe=u(),le=d("p"),he=m("This gives you a good looking button without any CSS. When you have repeatable composed patterns you\ncan use the "),de=d("code"),ue=m("@apply"),me=m(" directive to move things to CSS without styling from scratch."),fe=u(),ge=d("h2"),ke=d("a"),ye=d("span"),we=m("Backend & Hosting"),be=u(),ve=d("p"),Ie=m("My familiarity with Python and Postgres is substantial so I don’t even review anything else. This is\nwhere I can pick up a lot of velocity and I know the hosting environment well."),Se=u(),Pe=d("p"),Ee=m("One of the main requirements is to reliably scrape the retailer websites for bikes and specs. I have\nused BeautifulSoup and python-requests to scrape sites before. For this project I looked into Scrapy\nfor the first time and loved what I saw. The difference is that Scrapy is a proper framework with a\nheavy focus on the developer experience as opposed to two distinct libraries. To crawl sites you\nwrite spiders which are just Python scripts with a class that subclasses "),xe=d("code"),Te=m("scrapy.Spider"),je=m("."),Ae=u(),Ce=d("pre"),Fe=u(),Ne=d("p"),Oe=m("This is all it takes to get all bikes from "),qe=d("code"),De=m("reidhjolaverzlunin.is"),ze=m(". Awesome! You can choose between\nXPath or CSS selectors — power or simplicity — or a mix of both. I’m a big fan of Scrapy now. One of\nmy favorite things is "),Me=d("code"),Re=m("scrapy shell <url>"),Be=m(" which pops you into an ipython session with the\n"),He=d("code"),Le=m("response"),$e=m(" object your spider would receive for a particular URL. I had a shell, and Firefox with\ndeveloper tools to inspect the DOM and knocked out 14 scrapers in three or four coding sessions."),Je=u(),_e=d("p"),Ue=m("I’m using "),We=d("a"),Xe=m("FastAPI"),Ge=m(" for the second time now. I’m amazed that you could\ntake something like Flask (which I have used on projects ranging from tiny to huge with great\nsuccess and no complaints), add async and make the API even better. Impressive. It has deeper\nintegration for JSON API requests and responses — which Flask remains mostly agnostic about, leaving\ninput validation to other libraries. In FastAPI you get sanitized input with developer friendly\nerror reporting — although I’m not using any of these features for this project, but it’s good to\nknow that adding a public JSON API is only a few lines of code."),Ve=u(),Ye=d("p"),Ze=m("There is currently only one view with different filters which I pass and combine as query\nparameters. I could add some caching to the front page as it doesn’t change dynamically unless there\nare scrapes which only ever happen a few times a day. I should really do that. But the PageSpeed\nscore is already 100!"),Ke=u(),Qe=d("h2"),en=d("a"),nn=d("span"),an=m("Frontend"),tn=u(),sn=d("p"),on=m("I went back and forth with the frontend stack. There is no logged-in UX and I want everything to be\nsuper SEO friendly and fast. The idea of backend React rendering is not appealing and I don’t have a\nlot of experience running Node.js as a web service. Besides; I really wanted to use Python and\nFastAPI."),rn=u(),cn=d("p"),pn=m("I ended up using the Jinja2 template engine which has amazing composability, macros and inheritance\npatterns."),ln=u(),hn=d("p"),dn=m("What about interactive JavaScript bits? The appeal of React is that you sacrifice backend rendering\n(at least in Python) but move rendering closer to JavaScript which does DOM manipulation where\nre-renders are calculated based on an internal DOM representation in the client. For now the site is\nvery light on JavaScript. There are only hide/show or collapse/expand features and I wrote those in\nTypeScript without any UI libraries (just "),un=d("code"),mn=m("document.querySelector"),fn=m(" and things). Not sure I even\nneeded TypeScript, but it will come in handy with more complexity further down the road. I have one\ndependency which is lazy loading images based on viewport and scroll position to save bandwidth."),gn=u(),kn=d("h2"),yn=d("a"),wn=d("span"),bn=m("Other things"),vn=u(),In=d("p"),Sn=m("After some research I settled on "),Pn=d("a"),En=m("imgix"),xn=m(" for image hosting and\nresizing. Turns out you can just scrape image urls, then hand the external image link over to imgix\nand set attributes for color trimming to remove whitespace from the bike images, detect the best\ncompression and serve different sizes based on device DPI (webp+x2 for iPhone for example). This was\nreally handy because although most bikes are on a white background many of them were floated with\ndifferent amounts of whitespace on the image canvas, making the grid of bikes appear chaotic. Not\nthe first time I use imgix. Love this service and API."),Tn=u(),jn=d("p"),An=m("I’m kind of obsessed with "),Cn=d("a"),Fn=m("Render.com"),Nn=m(". It’s like Heroku but without mucking\nabout with the CLI and buildpacks. Things “just work” and the price is fair. For a while I thought I\nwould need NGiNX reverse proxying to a uwsgi backend and maybe even a CDN for the static assets for\na proper production environment. But I hate Docker, CloudFront, S3 and I hate VPS."),On=u(),qn=d("p"),Dn=m("FastAPI uses Starlette which is an async http library. With async and uvicorn you get acceptable\nresponse times for static serving. This means you don’t take as big a performance penalty for not\nhaving NGiNX or CDN hosting for the JS and CSS bundles (… only two additional requests)."),zn=u(),Mn=d("p"),Rn=m("Between static assets being served with an async framework and imgix delivering thumbnails via edge\nlocations I decided to drop NGiNX. Which means my hosting requirements are just a Python 3 service\non Render.com."),Bn=u(),Hn=d("p"),Ln=m("Finally there is "),$n=d("a"),Jn=m("Poetry"),_n=m(". This is a really well architected package\nmanager that does "),Un=d("em"),Wn=m("much"),Xn=m(" better management of requirements than pip or Pipenv. It also abstracts\nvirtualenvs and separates development requirements. I’m happy to see this project mature and gather\nmomentum. Python really needs this. Unfortunately Render.com does not support this so you need to\nkeep track of a "),Gn=d("code"),Vn=m("requirements.txt"),Yn=m(" file separately. Fortunately Poetry makes this bridging\nrelatively easy with a simple export command:"),Zn=u(),Kn=d("pre"),Qn=u(),ea=d("hr"),na=u(),aa=d("p"),ta=m("I hope this was useful or fun or whatever."),sa=u(),oa=d("p"),ia=m("Check out the code on "),ra=d("a"),ca=m("github.com/jokull/orflaedi"),pa=m("."),this.h()},l(e){n=f(e,"P",{});var t=g(n);a=f(t,"IMG",{src:!0}),t.forEach(k),s=y(e),o=f(e,"P",{});var d=g(o);i=w(d,"I recently launched a side project – basically a buyer’s guide for e-bikes in Iceland. It’s been a\nfew years since I worked on a substantial coding project and it has been a surprising amount of fun."),d.forEach(k),r=y(e),c=f(e,"P",{});var u=g(c);p=w(u,"Link: "),l=f(u,"A",{href:!0,rel:!0});var m=g(l);h=w(m,"www.örflæði.is"),m.forEach(k),u.forEach(k),P=y(e),E=f(e,"P",{});var b=g(E);x=w(b,"Late last year I actually worked on something that I never got around to publishing. At home we had\na baby in November and there were some quiet moments in the first few weeks where I could learn\nSwiftUI, the new iOS framework for declarative UI. I created a simple Python backend and iOS app\nthat scrapes air particulate data from the environmental agency in Iceland and presents a\ngeo-coordinate proximity sorted list of stations to the user. I had never done anything in either\nObjectiveC or Swift so it was quite a learning curve. Apple rejected the app because it replicates\nwebsite functionality. I argued that there was actually some useful sorting based on device location\nbut the appeal was rejected too."),b.forEach(k),T=y(e),j=f(e,"P",{});var v=g(j);A=w(v,"On the e-bike project I am hosting a mobile-first web solution so there is no application to reject."),v.forEach(k),C=y(e),F=f(e,"H2",{id:!0});var I=g(F);N=f(I,"A",{href:!0,"aria-hidden":!0,tabindex:!0});var S=g(N);O=f(S,"SPAN",{class:!0}),g(O).forEach(k),S.forEach(k),q=w(I,"Motivation"),I.forEach(k),D=y(e),z=f(e,"P",{});var la=g(z);M=w(la,"I’m a big believer in human sized vehicles in the urban setting. I believe e-bikes will dominate\nbike sales and is a potential disruptor of car centricity in urban planning and lifestyles. I have\nbeen an advocate for e-bikes in Iceland, have monitored import numbers, written articles, been\ninterviewed by newspapers, maintained a newsletter about micromobility with ~1,000 readers,\nparticipated in panels on planning, spoken with ministers, consulted retailers and helped the\nministry of finance structure a VAT rebate for e-bikes and micromobility vehicles. I’ve also taken\nsome crap from bike advocates that dislike motors and car maniacs who feel threatened. All part of\nthe fun of doing unpaid advocacy work."),la.forEach(k),R=y(e),B=f(e,"P",{});var ha=g(B);H=w(ha,"In my opinion incumbent bike retailers have not embraced electric motors and been mostly reactive to\nincreasing consumer demand. The growth in bikes is mostly due to motorization broadening the appeal\nto new consumer segments. This is a an opportunity for retailers and new entrants appealing to new\nsegments. People who love racers and Rapha hats are not good at appealing to family people looking\nfor commuting solutions."),ha.forEach(k),L=y(e),$=f(e,"P",{});var da=g($);J=w(da,"The space is highly competitive and there are few companies in the supply chain that have captured\ntruly defensible businesses — except for Bosch who have built a resilient brand for high-torque\nmotors and nicely designed displays. Future brands may capture more intelligence at fleet levels but\nthat is conjecture. For now, profits are slim but volume is increasing and consumers are benefiting."),da.forEach(k),_=y(e),U=f(e,"P",{});var ua=g(U);W=w(ua,"We have all the ingredients for a high growth market with a very high ceiling on ownership rates.\nVehicles are person sized and therefore a highly personal preference. Most consumers will decide\nbased on emotional factors and don’t have the interest to discern specs. Frame design, ride comfort\nand cycling lane access are winning attributes."),ua.forEach(k),X=y(e),G=f(e,"P",{});var ma=g(G);V=w(ma,"All of this calls for research tools to navigate a broad range of options and none currently exist."),ma.forEach(k),Y=y(e),Z=f(e,"H2",{id:!0});var fa=g(Z);K=f(fa,"A",{href:!0,"aria-hidden":!0,tabindex:!0});var ga=g(K);Q=f(ga,"SPAN",{class:!0}),g(Q).forEach(k),ga.forEach(k),ee=w(fa,"Design"),fa.forEach(k),ne=y(e),ae=f(e,"P",{});var ka=g(ae);te=w(ka,"I am not a designer. I browse dribbble.com and combine ideas that are easy to implement in CSS. I\ndid not design anything in Sketch. I shift to „CSS mode“ when my flexibly scoped coding resulted in\nthings that looked just too ugly to keep looking at — using Tailwind CSS so I could stay in HTML\nmode as much as possible. The way "),se=f(ka,"A",{href:!0,rel:!0});var ya=g(se);oe=w(ya,"Tailwind"),ya.forEach(k),ie=w(ka," works is that you get\nthousands of modular styles for common patterns and apply those directly to elements instead of\nwriting styles in CSS."),ka.forEach(k),re=y(e),ce=f(e,"PRE",{class:!0}),g(ce).forEach(k),pe=y(e),le=f(e,"P",{});var wa=g(le);he=w(wa,"This gives you a good looking button without any CSS. When you have repeatable composed patterns you\ncan use the "),de=f(wa,"CODE",{});var ba=g(de);ue=w(ba,"@apply"),ba.forEach(k),me=w(wa," directive to move things to CSS without styling from scratch."),wa.forEach(k),fe=y(e),ge=f(e,"H2",{id:!0});var va=g(ge);ke=f(va,"A",{href:!0,"aria-hidden":!0,tabindex:!0});var Ia=g(ke);ye=f(Ia,"SPAN",{class:!0}),g(ye).forEach(k),Ia.forEach(k),we=w(va,"Backend & Hosting"),va.forEach(k),be=y(e),ve=f(e,"P",{});var Sa=g(ve);Ie=w(Sa,"My familiarity with Python and Postgres is substantial so I don’t even review anything else. This is\nwhere I can pick up a lot of velocity and I know the hosting environment well."),Sa.forEach(k),Se=y(e),Pe=f(e,"P",{});var Pa=g(Pe);Ee=w(Pa,"One of the main requirements is to reliably scrape the retailer websites for bikes and specs. I have\nused BeautifulSoup and python-requests to scrape sites before. For this project I looked into Scrapy\nfor the first time and loved what I saw. The difference is that Scrapy is a proper framework with a\nheavy focus on the developer experience as opposed to two distinct libraries. To crawl sites you\nwrite spiders which are just Python scripts with a class that subclasses "),xe=f(Pa,"CODE",{});var Ea=g(xe);Te=w(Ea,"scrapy.Spider"),Ea.forEach(k),je=w(Pa,"."),Pa.forEach(k),Ae=y(e),Ce=f(e,"PRE",{class:!0}),g(Ce).forEach(k),Fe=y(e),Ne=f(e,"P",{});var xa=g(Ne);Oe=w(xa,"This is all it takes to get all bikes from "),qe=f(xa,"CODE",{});var Ta=g(qe);De=w(Ta,"reidhjolaverzlunin.is"),Ta.forEach(k),ze=w(xa,". Awesome! You can choose between\nXPath or CSS selectors — power or simplicity — or a mix of both. I’m a big fan of Scrapy now. One of\nmy favorite things is "),Me=f(xa,"CODE",{});var ja=g(Me);Re=w(ja,"scrapy shell <url>"),ja.forEach(k),Be=w(xa," which pops you into an ipython session with the\n"),He=f(xa,"CODE",{});var Aa=g(He);Le=w(Aa,"response"),Aa.forEach(k),$e=w(xa," object your spider would receive for a particular URL. I had a shell, and Firefox with\ndeveloper tools to inspect the DOM and knocked out 14 scrapers in three or four coding sessions."),xa.forEach(k),Je=y(e),_e=f(e,"P",{});var Ca=g(_e);Ue=w(Ca,"I’m using "),We=f(Ca,"A",{href:!0,rel:!0});var Fa=g(We);Xe=w(Fa,"FastAPI"),Fa.forEach(k),Ge=w(Ca," for the second time now. I’m amazed that you could\ntake something like Flask (which I have used on projects ranging from tiny to huge with great\nsuccess and no complaints), add async and make the API even better. Impressive. It has deeper\nintegration for JSON API requests and responses — which Flask remains mostly agnostic about, leaving\ninput validation to other libraries. In FastAPI you get sanitized input with developer friendly\nerror reporting — although I’m not using any of these features for this project, but it’s good to\nknow that adding a public JSON API is only a few lines of code."),Ca.forEach(k),Ve=y(e),Ye=f(e,"P",{});var Na=g(Ye);Ze=w(Na,"There is currently only one view with different filters which I pass and combine as query\nparameters. I could add some caching to the front page as it doesn’t change dynamically unless there\nare scrapes which only ever happen a few times a day. I should really do that. But the PageSpeed\nscore is already 100!"),Na.forEach(k),Ke=y(e),Qe=f(e,"H2",{id:!0});var Oa=g(Qe);en=f(Oa,"A",{href:!0,"aria-hidden":!0,tabindex:!0});var qa=g(en);nn=f(qa,"SPAN",{class:!0}),g(nn).forEach(k),qa.forEach(k),an=w(Oa,"Frontend"),Oa.forEach(k),tn=y(e),sn=f(e,"P",{});var Da=g(sn);on=w(Da,"I went back and forth with the frontend stack. There is no logged-in UX and I want everything to be\nsuper SEO friendly and fast. The idea of backend React rendering is not appealing and I don’t have a\nlot of experience running Node.js as a web service. Besides; I really wanted to use Python and\nFastAPI."),Da.forEach(k),rn=y(e),cn=f(e,"P",{});var za=g(cn);pn=w(za,"I ended up using the Jinja2 template engine which has amazing composability, macros and inheritance\npatterns."),za.forEach(k),ln=y(e),hn=f(e,"P",{});var Ma=g(hn);dn=w(Ma,"What about interactive JavaScript bits? The appeal of React is that you sacrifice backend rendering\n(at least in Python) but move rendering closer to JavaScript which does DOM manipulation where\nre-renders are calculated based on an internal DOM representation in the client. For now the site is\nvery light on JavaScript. There are only hide/show or collapse/expand features and I wrote those in\nTypeScript without any UI libraries (just "),un=f(Ma,"CODE",{});var Ra=g(un);mn=w(Ra,"document.querySelector"),Ra.forEach(k),fn=w(Ma," and things). Not sure I even\nneeded TypeScript, but it will come in handy with more complexity further down the road. I have one\ndependency which is lazy loading images based on viewport and scroll position to save bandwidth."),Ma.forEach(k),gn=y(e),kn=f(e,"H2",{id:!0});var Ba=g(kn);yn=f(Ba,"A",{href:!0,"aria-hidden":!0,tabindex:!0});var Ha=g(yn);wn=f(Ha,"SPAN",{class:!0}),g(wn).forEach(k),Ha.forEach(k),bn=w(Ba,"Other things"),Ba.forEach(k),vn=y(e),In=f(e,"P",{});var La=g(In);Sn=w(La,"After some research I settled on "),Pn=f(La,"A",{href:!0});var $a=g(Pn);En=w($a,"imgix"),$a.forEach(k),xn=w(La," for image hosting and\nresizing. Turns out you can just scrape image urls, then hand the external image link over to imgix\nand set attributes for color trimming to remove whitespace from the bike images, detect the best\ncompression and serve different sizes based on device DPI (webp+x2 for iPhone for example). This was\nreally handy because although most bikes are on a white background many of them were floated with\ndifferent amounts of whitespace on the image canvas, making the grid of bikes appear chaotic. Not\nthe first time I use imgix. Love this service and API."),La.forEach(k),Tn=y(e),jn=f(e,"P",{});var Ja=g(jn);An=w(Ja,"I’m kind of obsessed with "),Cn=f(Ja,"A",{href:!0,rel:!0});var _a=g(Cn);Fn=w(_a,"Render.com"),_a.forEach(k),Nn=w(Ja,". It’s like Heroku but without mucking\nabout with the CLI and buildpacks. Things “just work” and the price is fair. For a while I thought I\nwould need NGiNX reverse proxying to a uwsgi backend and maybe even a CDN for the static assets for\na proper production environment. But I hate Docker, CloudFront, S3 and I hate VPS."),Ja.forEach(k),On=y(e),qn=f(e,"P",{});var Ua=g(qn);Dn=w(Ua,"FastAPI uses Starlette which is an async http library. With async and uvicorn you get acceptable\nresponse times for static serving. This means you don’t take as big a performance penalty for not\nhaving NGiNX or CDN hosting for the JS and CSS bundles (… only two additional requests)."),Ua.forEach(k),zn=y(e),Mn=f(e,"P",{});var Wa=g(Mn);Rn=w(Wa,"Between static assets being served with an async framework and imgix delivering thumbnails via edge\nlocations I decided to drop NGiNX. Which means my hosting requirements are just a Python 3 service\non Render.com."),Wa.forEach(k),Bn=y(e),Hn=f(e,"P",{});var Xa=g(Hn);Ln=w(Xa,"Finally there is "),$n=f(Xa,"A",{href:!0,rel:!0});var Ga=g($n);Jn=w(Ga,"Poetry"),Ga.forEach(k),_n=w(Xa,". This is a really well architected package\nmanager that does "),Un=f(Xa,"EM",{});var Va=g(Un);Wn=w(Va,"much"),Va.forEach(k),Xn=w(Xa," better management of requirements than pip or Pipenv. It also abstracts\nvirtualenvs and separates development requirements. I’m happy to see this project mature and gather\nmomentum. Python really needs this. Unfortunately Render.com does not support this so you need to\nkeep track of a "),Gn=f(Xa,"CODE",{});var Ya=g(Gn);Vn=w(Ya,"requirements.txt"),Ya.forEach(k),Yn=w(Xa," file separately. Fortunately Poetry makes this bridging\nrelatively easy with a simple export command:"),Xa.forEach(k),Zn=y(e),Kn=f(e,"PRE",{class:!0}),g(Kn).forEach(k),Qn=y(e),ea=f(e,"HR",{}),na=y(e),aa=f(e,"P",{});var Za=g(aa);ta=w(Za,"I hope this was useful or fun or whatever."),Za.forEach(k),sa=y(e),oa=f(e,"P",{});var Ka=g(oa);ia=w(Ka,"Check out the code on "),ra=f(Ka,"A",{href:!0,rel:!0});var Qa=g(ra);ca=w(Qa,"github.com/jokull/orflaedi"),Qa.forEach(k),pa=w(Ka,"."),Ka.forEach(k),this.h()},h(){a.src!==(t="/blog/graphic.png")&&b(a,"src","/blog/graphic.png"),b(l,"href","https://www.orflaedi.is/"),b(l,"rel","nofollow"),b(O,"class","icon icon-link"),b(N,"href","#motivation"),b(N,"aria-hidden","true"),b(N,"tabindex","-1"),b(F,"id","motivation"),b(Q,"class","icon icon-link"),b(K,"href","#design"),b(K,"aria-hidden","true"),b(K,"tabindex","-1"),b(Z,"id","design"),b(se,"href","https://tailwindcss.com"),b(se,"rel","nofollow"),b(ce,"class","language-html"),b(ye,"class","icon icon-link"),b(ke,"href","#backend--hosting"),b(ke,"aria-hidden","true"),b(ke,"tabindex","-1"),b(ge,"id","backend--hosting"),b(Ce,"class","language-python"),b(We,"href","https://fastapi.tiangolo.com"),b(We,"rel","nofollow"),b(nn,"class","icon icon-link"),b(en,"href","#frontend"),b(en,"aria-hidden","true"),b(en,"tabindex","-1"),b(Qe,"id","frontend"),b(wn,"class","icon icon-link"),b(yn,"href","#other-things"),b(yn,"aria-hidden","true"),b(yn,"tabindex","-1"),b(kn,"id","other-things"),b(Pn,"href","https://www.imgix.com/"),b(Cn,"href","https://www.render.com"),b(Cn,"rel","nofollow"),b($n,"href","http://poetry.eustace.io"),b($n,"rel","nofollow"),b(Kn,"class","language-bash"),b(ra,"href","https://github.com/jokull/orflaedi"),b(ra,"rel","nofollow")},m(e,t){v(e,n,t),I(n,a),v(e,s,t),v(e,o,t),I(o,i),v(e,r,t),v(e,c,t),I(c,p),I(c,l),I(l,h),v(e,P,t),v(e,E,t),I(E,x),v(e,T,t),v(e,j,t),I(j,A),v(e,C,t),v(e,F,t),I(F,N),I(N,O),I(F,q),v(e,D,t),v(e,z,t),I(z,M),v(e,R,t),v(e,B,t),I(B,H),v(e,L,t),v(e,$,t),I($,J),v(e,_,t),v(e,U,t),I(U,W),v(e,X,t),v(e,G,t),I(G,V),v(e,Y,t),v(e,Z,t),I(Z,K),I(K,Q),I(Z,ee),v(e,ne,t),v(e,ae,t),I(ae,te),I(ae,se),I(se,oe),I(ae,ie),v(e,re,t),v(e,ce,t),ce.innerHTML='<code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n\tClick me\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span></code>',v(e,pe,t),v(e,le,t),I(le,he),I(le,de),I(de,ue),I(le,me),v(e,fe,t),v(e,ge,t),I(ge,ke),I(ke,ye),I(ge,we),v(e,be,t),v(e,ve,t),I(ve,Ie),v(e,Se,t),v(e,Pe,t),I(Pe,Ee),I(Pe,xe),I(xe,Te),I(Pe,je),v(e,Ae,t),v(e,Ce,t),Ce.innerHTML='<code class="language-python"><span class="token keyword">import</span> scrapy\n\n\n<span class="token keyword">class</span> <span class="token class-name">BerlinSpider</span><span class="token punctuation">(</span>scrapy<span class="token punctuation">.</span>Spider<span class="token punctuation">)</span><span class="token punctuation">:</span>\n    name <span class="token operator">=</span> <span class="token string">"berlin"</span>\n\n    start_urls <span class="token operator">=</span> <span class="token punctuation">[</span>\n        <span class="token string">"https://www.reidhjolaverzlunin.is/collections/rafmagnshjol"</span><span class="token punctuation">,</span>\n    <span class="token punctuation">]</span>\n\n    <span class="token keyword">def</span> <span class="token function">parse</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">:</span>\n        <span class="token keyword">for</span> link <span class="token keyword">in</span> response<span class="token punctuation">.</span>css<span class="token punctuation">(</span><span class="token string">".product>a"</span><span class="token punctuation">)</span><span class="token punctuation">:</span>\n            <span class="token keyword">yield</span> response<span class="token punctuation">.</span>follow<span class="token punctuation">(</span>link<span class="token punctuation">,</span> self<span class="token punctuation">.</span>parse_product<span class="token punctuation">)</span>\n\n    <span class="token keyword">def</span> <span class="token function">parse_product</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">:</span>\n\n        price <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>response<span class="token punctuation">.</span>css<span class="token punctuation">(</span><span class="token string">".money::text"</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>re<span class="token punctuation">(</span><span class="token string">r"d+"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n        sku <span class="token operator">=</span> response<span class="token punctuation">.</span>css<span class="token punctuation">(</span><span class="token string">".product-single::attr(\'class\')"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>re<span class="token punctuation">(</span><span class="token string">r"product-(d+)"</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>\n\n        <span class="token keyword">yield</span> <span class="token punctuation">&#123;</span>\n            <span class="token string">"sku"</span><span class="token punctuation">:</span> sku<span class="token punctuation">,</span>\n            <span class="token string">"name"</span><span class="token punctuation">:</span> response<span class="token punctuation">.</span>css<span class="token punctuation">(</span><span class="token string">".section__title-text::text"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n            <span class="token string">"make"</span><span class="token punctuation">:</span> response<span class="token punctuation">.</span>css<span class="token punctuation">(</span><span class="token string">"h4.section__title-desc a::text"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n            <span class="token string">"price"</span><span class="token punctuation">:</span> price<span class="token punctuation">,</span>\n            <span class="token string">"file_urls"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>response<span class="token punctuation">.</span>css<span class="token punctuation">(</span><span class="token string">".product-single__photo__img::attr(\'data-pswp-src\')"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n            <span class="token string">"scrape_url"</span><span class="token punctuation">:</span> response<span class="token punctuation">.</span>url<span class="token punctuation">,</span>\n        <span class="token punctuation">&#125;</span></code>',v(e,Fe,t),v(e,Ne,t),I(Ne,Oe),I(Ne,qe),I(qe,De),I(Ne,ze),I(Ne,Me),I(Me,Re),I(Ne,Be),I(Ne,He),I(He,Le),I(Ne,$e),v(e,Je,t),v(e,_e,t),I(_e,Ue),I(_e,We),I(We,Xe),I(_e,Ge),v(e,Ve,t),v(e,Ye,t),I(Ye,Ze),v(e,Ke,t),v(e,Qe,t),I(Qe,en),I(en,nn),I(Qe,an),v(e,tn,t),v(e,sn,t),I(sn,on),v(e,rn,t),v(e,cn,t),I(cn,pn),v(e,ln,t),v(e,hn,t),I(hn,dn),I(hn,un),I(un,mn),I(hn,fn),v(e,gn,t),v(e,kn,t),I(kn,yn),I(yn,wn),I(kn,bn),v(e,vn,t),v(e,In,t),I(In,Sn),I(In,Pn),I(Pn,En),I(In,xn),v(e,Tn,t),v(e,jn,t),I(jn,An),I(jn,Cn),I(Cn,Fn),I(jn,Nn),v(e,On,t),v(e,qn,t),I(qn,Dn),v(e,zn,t),v(e,Mn,t),I(Mn,Rn),v(e,Bn,t),v(e,Hn,t),I(Hn,Ln),I(Hn,$n),I($n,Jn),I(Hn,_n),I(Hn,Un),I(Un,Wn),I(Hn,Xn),I(Hn,Gn),I(Gn,Vn),I(Hn,Yn),v(e,Zn,t),v(e,Kn,t),Kn.innerHTML='<code class="language-bash"><span class="token operator">></span> poetry <span class="token builtin class-name">export</span> --without-hashes -f requirements.txt <span class="token operator">></span> requirements.txt</code>',v(e,Qn,t),v(e,ea,t),v(e,na,t),v(e,aa,t),I(aa,ta),v(e,sa,t),v(e,oa,t),I(oa,ia),I(oa,ra),I(ra,ca),I(oa,pa)},p:S,d(e){e&&k(n),e&&k(s),e&&k(o),e&&k(r),e&&k(c),e&&k(P),e&&k(E),e&&k(T),e&&k(j),e&&k(C),e&&k(F),e&&k(D),e&&k(z),e&&k(R),e&&k(B),e&&k(L),e&&k($),e&&k(_),e&&k(U),e&&k(X),e&&k(G),e&&k(Y),e&&k(Z),e&&k(ne),e&&k(ae),e&&k(re),e&&k(ce),e&&k(pe),e&&k(le),e&&k(fe),e&&k(ge),e&&k(be),e&&k(ve),e&&k(Se),e&&k(Pe),e&&k(Ae),e&&k(Ce),e&&k(Fe),e&&k(Ne),e&&k(Je),e&&k(_e),e&&k(Ve),e&&k(Ye),e&&k(Ke),e&&k(Qe),e&&k(tn),e&&k(sn),e&&k(rn),e&&k(cn),e&&k(ln),e&&k(hn),e&&k(gn),e&&k(kn),e&&k(vn),e&&k(In),e&&k(Tn),e&&k(jn),e&&k(On),e&&k(qn),e&&k(zn),e&&k(Mn),e&&k(Bn),e&&k(Hn),e&&k(Zn),e&&k(Kn),e&&k(Qn),e&&k(ea),e&&k(na),e&&k(aa),e&&k(sa),e&&k(oa)}}}function x(e){let n,a;const d=[T];let u={$$slots:{default:[E]},$$scope:{ctx:e}};for(let s=0;s<d.length;s+=1)u=t(u,d[s]);return n=new P({props:u}),{c(){s(n.$$.fragment)},l(e){o(n.$$.fragment,e)},m(e,t){i(n,e,t),a=!0},p(e,[a]){const t=0&a?r(d,[h(T)]):{};1&a&&(t.$$scope={dirty:a,ctx:e}),n.$set(t)},i(e){a||(c(n.$$.fragment,e),a=!0)},o(e){p(n.$$.fragment,e),a=!1},d(e){l(n,e)}}}const T={title:"Örflæði.is - Motivation and Tech Stack",date:"2020-03-06T00:00:00.000Z"};export default class extends e{constructor(e){super(),n(this,e,null,x,a,{})}}export{T as metadata};
